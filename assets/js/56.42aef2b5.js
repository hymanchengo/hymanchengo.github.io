(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{530:function(t,s,a){"use strict";a.r(s);var e=a(4),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"java类加载器classloader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java类加载器classloader"}},[t._v("#")]),t._v(" Java类加载器ClassLoader")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v("抽象类\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("security"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SecureClassLoader")]),t._v("实现类 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLClassLoader")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SecureClassLoader")]),t._v("\nsun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Launcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppClassLoader")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLClassLoader")]),t._v("\nsun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Launcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtClassLoader")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLClassLoader")]),t._v("\n")])])]),a("h3",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("h4",{attrs:{id:"loadclass-string-、loadclass-string-boolean-resolve"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loadclass-string-、loadclass-string-boolean-resolve"}},[t._v("#")]),t._v(" loadClass(String)、loadClass(String, boolean resolve)")]),t._v(" "),a("p",[t._v("通过二进制名来加载类，方法的默认实现查找类的顺序如下")]),t._v(" "),a("ul",[a("li",[t._v("调用findLoadedClass检查类是否已经加载")]),t._v(" "),a("li",[t._v("调用父类加载器的loadClass方法，如果父类为null,则使用jvm内置的类加载器")]),t._v(" "),a("li",[t._v("调用findClass(String)方法查找类\nresolve如果为true，类加载器则链接类。")])]),t._v(" "),a("h3",{attrs:{id:"类的搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类的搜索"}},[t._v("#")]),t._v(" 类的搜索")]),t._v(" "),a("h4",{attrs:{id:"classpath设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#classpath设置"}},[t._v("#")]),t._v(" ClassPath设置")]),t._v(" "),a("p",[t._v("运行ClassLoadingDemo，Intellij执行的java命令，注意-classpath。如下命令简化表示为\n"),a("code",[t._v("java -javaagent -Dfile.encoding=UTF-8 -classpath ClassName")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Program Files\\Java\\jdk1.8.0_221'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[t._v("\\b")]),t._v('in\\java.exe"')]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-javaagent:D:\\soft\\developer\\intellij\\IntelliJ IDEA 2019.2\\lib\\idea_rt.jar=53845:D:\\soft\\developer\\intellij\\IntelliJ IDEA 2019.2'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[t._v("\\b")]),t._v('in"')]),t._v(" \n-Dfile.encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 \n-classpath "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[t._v("\\c")]),t._v("harsets.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\deploy.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[t._v("\\a")]),t._v("ccess-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[t._v("\\c")]),t._v("ldrdata.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\jaccess.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\localedata.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("ashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\sunec.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\sunmscapi.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[t._v("\\e")]),t._v("xt\\zipfs.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\jce.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\jfxswt.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\management-agent.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("esources.jar;\nC:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("t.jar;\nC:\\Users\\Hyman\\Desktop"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[t._v("\\b")]),t._v("uildframeworks\\geekbang-lessons"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[t._v("\\t")]),t._v("hinking-in-spring"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[t._v("\\a")]),t._v("op-overview"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[t._v("\\t")]),t._v("arget"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[t._v("\\c")]),t._v("lasses;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-aop"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-aop-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-beans"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-beans-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-core"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-core-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-jcl"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-jcl-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[t._v("\\a")]),t._v("spectj"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[t._v("\\a")]),t._v("spectjrt"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\1"}},[t._v("\\1")]),t._v(".9.6"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[t._v("\\a")]),t._v("spectjrt-1.9.6.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-context"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-context-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-expression"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-expression-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-jdbc"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-jdbc-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-tx"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-tx-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-webmvc"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-webmvc-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-web"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-web-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org\\springframework\\spring-webflux"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\5"}},[t._v("\\5")]),t._v(".2.2.RELEASE\\spring-webflux-5.2.2.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\io\\projectreactor"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("eactor-core"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\3"}},[t._v("\\3")]),t._v(".3.1.RELEASE"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("eactor-core-3.3.1.RELEASE.jar;\nC:\\Users\\Hyman\\.m2"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("epository\\org"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("eactivestreams"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v("eactive-streams"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\1"}},[t._v("\\1")]),t._v(".0.3"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('eactive-streams-1.0.3.jar"')]),t._v(" \norg.geekbang.thinking.in.spring.aop.overview.ClassLoadingDemo\n")])])]),a("h3",{attrs:{id:"类的加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类的加载"}},[t._v("#")]),t._v(" 类的加载")]),t._v(" "),a("h4",{attrs:{id:"应用classloader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用classloader"}},[t._v("#")]),t._v(" 应用ClassLoader")]),t._v(" "),a("h4",{attrs:{id:"bootstrap-classloader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-classloader"}},[t._v("#")]),t._v(" BootStrap ClassLoader")]),t._v(" "),a("h4",{attrs:{id:"双亲委派"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#双亲委派"}},[t._v("#")]),t._v(" 双亲委派")])])}),[],!1,null,null,null);s.default=r.exports}}]);